<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.Circle?>
<?import org.kordamp.ikonli.javafx.FontIcon?>

<VBox xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="frontend.SidebarController"
      fx:id="root"
      spacing="12" styleClass="sidebar compact">

    <padding>
        <Insets top="16" right="12" bottom="16" left="12"/>
    </padding>

    <!-- define non-Node objects here -->
    <fx:define>
        <ToggleGroup fx:id="navGroup"/>
    </fx:define>

    <!-- logo -->
    <Label text="STM" styleClass="logo-chip"/>

    <Separator/>

    <!-- nav buttons -->
    <ToggleButton fx:id="homeBtn" selected="true" styleClass="nav-icon" toggleGroup="$navGroup">
        <graphic><FontIcon iconLiteral="fas-home" iconSize="18"/></graphic>
        <tooltip><Tooltip text="Home"/></tooltip>
    </ToggleButton>

    <ToggleButton fx:id="tasksBtn" styleClass="nav-icon" toggleGroup="$navGroup">
        <graphic><FontIcon iconLiteral="fas-folder-open" iconSize="18"/></graphic>
        <tooltip><Tooltip text="Tasks"/></tooltip>
    </ToggleButton>

    <ToggleButton fx:id="calendarBtn" styleClass="nav-icon" toggleGroup="$navGroup">
        <graphic><FontIcon iconLiteral="fas-calendar-alt" iconSize="18"/></graphic>
        <tooltip><Tooltip text="Calendar"/></tooltip>
    </ToggleButton>

    <ToggleButton fx:id="reportsBtn" styleClass="nav-icon" toggleGroup="$navGroup">
        <graphic><FontIcon iconLiteral="fas-chart-line" iconSize="18"/></graphic>
        <tooltip><Tooltip text="Reports"/></tooltip>
    </ToggleButton>

    <ToggleButton fx:id="settingsBtn" styleClass="nav-icon" toggleGroup="$navGroup">
        <graphic><FontIcon iconLiteral="fas-cog" iconSize="18"/></graphic>
        <tooltip><Tooltip text="Settings"/></tooltip>
    </ToggleButton>

    <Pane VBox.vgrow="ALWAYS"/>

    <!-- profile photo placeholder + name -->
    <VBox spacing="8" alignment="CENTER_LEFT">
        <StackPane prefWidth="36" prefHeight="36" styleClass="avatar-photo">
            <children>
                <ImageView fx:id="profileImage" fitWidth="36" fitHeight="36" preserveRatio="true"/>
                <Circle radius="18" fill="#00000000"/>
            </children>
        </StackPane>
        <Label fx:id="profileName" text="Dieunie" styleClass="muted"/>
        <Button fx:id="profileBtn" text="Profile" mnemonicParsing="false"/>
    </VBox>

    <!-- dark mode icon button -->
    <Button fx:id="themeBtn" mnemonicParsing="false" styleClass="icon-btn" onAction="#toggleTheme">
        <graphic><FontIcon fx:id="themeIcon" iconLiteral="fas-moon" iconSize="16"/></graphic>
        <tooltip><Tooltip text="Toggle theme"/></tooltip>
        <VBox.margin><Insets top="6"/></VBox.margin>
    </Button>

    <Button fx:id="logoutBtn" text="Logout" mnemonicParsing="false"/>
</VBox>
